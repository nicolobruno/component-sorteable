{"ast":null,"code":"import _slicedToArray from \"/Users/nlobruno/Documents/Proyects/component-sorteable/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nlobruno/Documents/Proyects/component-sorteable/src/components/SorteableElementsDragHandle/index.js\";\nimport React, { useState, useCallback } from \"react\";\nimport { sortableContainer, sortableElement, sortableHandle } from \"react-sortable-hoc\";\nimport PropTypes from \"prop-types\";\nimport { arrayMove } from \"./utils\";\nimport \"./styles.css\";\nconst DragHandle = sortableHandle(({\n  classNameImageMove\n}) => React.createElement(\"img\", {\n  className: \"\".concat(classNameImageMove || \"imageMove\"),\n  src: \"https://cdn4.iconfinder.com/data/icons/vectory-multimedia-1/40/move_4-512.png\",\n  alt: \"move\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13\n  },\n  __self: this\n}));\nconst SortableItem = sortableElement(({\n  children,\n  shouldShowDragHangle,\n  index,\n  classNameImageMove\n}) => React.createElement(\"li\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22\n  },\n  __self: this\n}, shouldShowDragHangle(index) && React.createElement(DragHandle, {\n  classNameImageMove: classNameImageMove,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24\n  },\n  __self: this\n}), children));\nconst SortableContainer = sortableContainer(({\n  children,\n  sortActived\n}) => React.createElement(\"ul\", {\n  className: \"containerHorizontal \".concat(sortActived ? \"sortActived\" : \"\"),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32\n  },\n  __self: this\n}, children));\n\nfunction SortableComponentDragHandle({\n  items,\n  axis,\n  renderMyChildren,\n  onSortEnd,\n  shouldShowDragHangle,\n  classNameImageMove\n}) {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        sortActived = _useState2[0],\n        setSortActived = _useState2[1];\n\n  const onSortStart = useCallback(sortActived && setSortActived(true));\n  const handleOnSortEnd = useCallback((oldIndex, newIndex) => {\n    if (onSortEnd) {\n      onSortEnd(oldIndex, newIndex);\n      return;\n    } // this.setState(({ items }) => ({\n    //   items: arrayMove(items, oldIndex, newIndex),\n    //   sortActived: false\n    // })); \n\n  }, [onSortEnd]);\n  return items && React.createElement(SortableContainer, {\n    axis: axis,\n    onSortEnd: handleOnSortEnd,\n    onSortStart: onSortStart,\n    sortActived: sortActived,\n    useDragHandle: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, items.map((value, index) => React.createElement(SortableItem, {\n    key: \"item-\".concat(index),\n    index: index,\n    shouldShowDragHangle: shouldShowDragHangle,\n    classNameImageMove: classNameImageMove,\n    value: value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"move\",\n    className: \"image\",\n    src: items[index],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }))));\n}\n\nSortableComponentDragHandle.propTypes = {\n  renderMyChildren: PropTypes.func,\n  items: PropTypes.arrayOf(PropTypes.object),\n  onSortEnd: PropTypes.func,\n  shouldShowDragHangle: PropTypes.func,\n  axis: PropTypes.string,\n  classNameImageMove: PropTypes.string\n};\nSortableComponentDragHandle.defaultProps = {\n  axis: \"x\"\n};\nexport default SortableComponentDragHandle;","map":{"version":3,"sources":["/Users/nlobruno/Documents/Proyects/component-sorteable/src/components/SorteableElementsDragHandle/index.js"],"names":["React","useState","useCallback","sortableContainer","sortableElement","sortableHandle","PropTypes","arrayMove","DragHandle","classNameImageMove","SortableItem","children","shouldShowDragHangle","index","SortableContainer","sortActived","SortableComponentDragHandle","items","axis","renderMyChildren","onSortEnd","setSortActived","onSortStart","handleOnSortEnd","oldIndex","newIndex","map","value","propTypes","func","arrayOf","object","string","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport {\n  sortableContainer,\n  sortableElement,\n  sortableHandle\n} from \"react-sortable-hoc\";\nimport PropTypes from \"prop-types\";\n\nimport { arrayMove } from \"./utils\";\nimport \"./styles.css\";\n\nconst DragHandle = sortableHandle(({ classNameImageMove }) => (\n  <img\n    className={`${classNameImageMove || \"imageMove\"}`}\n    src=\"https://cdn4.iconfinder.com/data/icons/vectory-multimedia-1/40/move_4-512.png\"\n    alt=\"move\"\n  />\n));\n\nconst SortableItem = sortableElement(\n  ({ children, shouldShowDragHangle, index, classNameImageMove }) => (\n    <li>\n      {shouldShowDragHangle(index) && (\n        <DragHandle classNameImageMove={classNameImageMove} />\n      )}\n      {children}\n    </li>\n  )\n);\n\nconst SortableContainer = sortableContainer(({ children, sortActived }) => (\n  <ul className={`containerHorizontal ${sortActived ? \"sortActived\" : \"\"}`}>\n    {children}\n  </ul>\n));\n\nfunction SortableComponentDragHandle({ items, axis, renderMyChildren, onSortEnd, shouldShowDragHangle, classNameImageMove}) {\n  const [ sortActived, setSortActived] = useState(false);\n\n  const onSortStart = useCallback(\n    sortActived && setSortActived(true)\n  );\n\n  const handleOnSortEnd = useCallback((oldIndex, newIndex) => {\n    if (onSortEnd) {\n      onSortEnd(oldIndex, newIndex);\n      return;\n    }\n    // this.setState(({ items }) => ({\n    //   items: arrayMove(items, oldIndex, newIndex),\n    //   sortActived: false\n    // })); \n  }, [onSortEnd]);\n\n  return (\n    items && (\n      <SortableContainer\n      axis={axis}\n      onSortEnd={handleOnSortEnd}\n      onSortStart={onSortStart}\n      sortActived={sortActived}\n      useDragHandle\n    >\n      {items.map((value, index) => (\n        <SortableItem\n          key={`item-${index}`}\n          index={index}\n          shouldShowDragHangle={shouldShowDragHangle}\n          classNameImageMove={classNameImageMove}\n          value={value}\n        >\n          {/* {renderMyChildren(index)} */}\n          <img alt=\"move\" className=\"image\" src={items[index]} />\n        </SortableItem>\n      ))}\n    </SortableContainer>\n    )\n  );\n}\n\nSortableComponentDragHandle.propTypes = {\n  renderMyChildren: PropTypes.func,\n  items: PropTypes.arrayOf(PropTypes.object),\n  onSortEnd: PropTypes.func,\n  shouldShowDragHangle: PropTypes.func,\n  axis: PropTypes.string,\n  classNameImageMove: PropTypes.string\n};\n\nSortableComponentDragHandle.defaultProps = {\n  axis: \"x\"\n};\n\nexport default SortableComponentDragHandle;\n"]},"metadata":{},"sourceType":"module"}